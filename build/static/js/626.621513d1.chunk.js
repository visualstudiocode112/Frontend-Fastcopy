/*! For license information please see 626.621513d1.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[626],{1140:(e,a,s)=>{s.d(a,{Wu:()=>v,ZB:()=>f,Zp:()=>h,aR:()=>u});var t=s(2555),r=s(3986),n=s(5043),l=s(9766),o=s(579);const i=["className"],c=["className"],d=["className"],m=["className"],p=["className"],x=["className"],h=n.forwardRef((e,a)=>{let{className:s}=e,n=(0,r.A)(e,i);return(0,o.jsx)("div",(0,t.A)({ref:a,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow",s)},n))});h.displayName="Card";const u=n.forwardRef((e,a)=>{let{className:s}=e,n=(0,r.A)(e,c);return(0,o.jsx)("div",(0,t.A)({ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s)},n))});u.displayName="CardHeader";const f=n.forwardRef((e,a)=>{let{className:s}=e,n=(0,r.A)(e,d);return(0,o.jsx)("div",(0,t.A)({ref:a,className:(0,l.cn)("font-semibold leading-none tracking-tight",s)},n))});f.displayName="CardTitle";n.forwardRef((e,a)=>{let{className:s}=e,n=(0,r.A)(e,m);return(0,o.jsx)("div",(0,t.A)({ref:a,className:(0,l.cn)("text-sm text-muted-foreground",s)},n))}).displayName="CardDescription";const v=n.forwardRef((e,a)=>{let{className:s}=e,n=(0,r.A)(e,p);return(0,o.jsx)("div",(0,t.A)({ref:a,className:(0,l.cn)("p-6 pt-0",s)},n))});v.displayName="CardContent";n.forwardRef((e,a)=>{let{className:s}=e,n=(0,r.A)(e,x);return(0,o.jsx)("div",(0,t.A)({ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",s)},n))}).displayName="CardFooter"},2382:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(7784).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},3528:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(7784).A)("bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]])},3626:(e,a,s)=>{s.r(a),s.d(a,{default:()=>We});var t=s(5043),r=s(9722),n=s(9001),l=s(4784),o=s(3877),i=s(2555),c=s(3986),d=s(9766),m=s(579);const p=["className"],x=t.forwardRef((e,a)=>{let{className:s}=e,t=(0,c.A)(e,p);return(0,m.jsx)("textarea",(0,i.A)({className:(0,d.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a},t))});x.displayName="Textarea";var h=s(1140),u=s(1862),f=s(3856),v=s(2814),b=s(858),g=s(3642),N=s(7920),A=s(503),j=s(2894),w=s(4490);const y=["__scopeCollapsible","open","defaultOpen","disabled","onOpenChange"],_=["__scopeCollapsible"],C=["forceMount"],R=["__scopeCollapsible","present","children"];var k="Collapsible",[E,D]=(0,u.A)(k),[I,V]=E(k),S=t.forwardRef((e,a)=>{const{__scopeCollapsible:s,open:r,defaultOpen:n,disabled:l,onOpenChange:o}=e,d=(0,c.A)(e,y),[p,x]=(0,g.i)({prop:r,defaultProp:null!==n&&void 0!==n&&n,onChange:o,caller:k});return(0,m.jsx)(I,{scope:s,disabled:l,contentId:(0,w.B)(),open:p,onOpenToggle:t.useCallback(()=>x(e=>!e),[x]),children:(0,m.jsx)(N.sG.div,(0,i.A)((0,i.A)({"data-state":T(p),"data-disabled":l?"":void 0},d),{},{ref:a}))})});S.displayName=k;var z="CollapsibleTrigger",O=t.forwardRef((e,a)=>{const{__scopeCollapsible:s}=e,t=(0,c.A)(e,_),r=V(z,s);return(0,m.jsx)(N.sG.button,(0,i.A)((0,i.A)({type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":T(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled},t),{},{ref:a,onClick:(0,b.mK)(e.onClick,r.onOpenToggle)}))});O.displayName=z;var F="CollapsibleContent",M=t.forwardRef((e,a)=>{const{forceMount:s}=e,t=(0,c.A)(e,C),r=V(F,e.__scopeCollapsible);return(0,m.jsx)(j.C,{present:s||r.open,children:e=>{let{present:s}=e;return(0,m.jsx)(H,(0,i.A)((0,i.A)({},t),{},{ref:a,present:s}))}})});M.displayName=F;var H=t.forwardRef((e,a)=>{const{__scopeCollapsible:s,present:r,children:n}=e,l=(0,c.A)(e,R),o=V(F,s),[d,p]=t.useState(r),x=t.useRef(null),h=(0,v.s)(a,x),u=t.useRef(0),f=u.current,b=t.useRef(0),g=b.current,j=o.open||d,w=t.useRef(j),y=t.useRef(void 0);return t.useEffect(()=>{const e=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,A.N)(()=>{const e=x.current;if(e){y.current=y.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";const a=e.getBoundingClientRect();u.current=a.height,b.current=a.width,w.current||(e.style.transitionDuration=y.current.transitionDuration,e.style.animationName=y.current.animationName),p(r)}},[o.open,r]),(0,m.jsx)(N.sG.div,(0,i.A)((0,i.A)({"data-state":T(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!j},l),{},{ref:h,style:(0,i.A)({"--radix-collapsible-content-height":f?"".concat(f,"px"):void 0,"--radix-collapsible-content-width":g?"".concat(g,"px"):void 0},e.style),children:j&&n}))});function T(e){return e?"open":"closed"}var Z=S,L=O,P=M,B=s(4204);const G=["type"],q=["value","defaultValue","onValueChange","collapsible"],K=["value","defaultValue","onValueChange"],$=["__scopeAccordion","disabled","dir","orientation"],W=["__scopeAccordion","value"],U=["__scopeAccordion"],J=["__scopeAccordion"],Q=["__scopeAccordion"];var X="Accordion",Y=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[ee,ae,se]=(0,f.N)(X),[te,re]=(0,u.A)(X,[se,D]),ne=D(),le=t.forwardRef((e,a)=>{const{type:s}=e,t=(0,c.A)(e,G),r=t,n=t;return(0,m.jsx)(ee.Provider,{scope:e.__scopeAccordion,children:"multiple"===s?(0,m.jsx)(pe,(0,i.A)((0,i.A)({},n),{},{ref:a})):(0,m.jsx)(me,(0,i.A)((0,i.A)({},r),{},{ref:a}))})});le.displayName=X;var[oe,ie]=te(X),[ce,de]=te(X,{collapsible:!1}),me=t.forwardRef((e,a)=>{const{value:s,defaultValue:r,onValueChange:n=()=>{},collapsible:l=!1}=e,o=(0,c.A)(e,q),[d,p]=(0,g.i)({prop:s,defaultProp:null!==r&&void 0!==r?r:"",onChange:n,caller:X});return(0,m.jsx)(oe,{scope:e.__scopeAccordion,value:t.useMemo(()=>d?[d]:[],[d]),onItemOpen:p,onItemClose:t.useCallback(()=>l&&p(""),[l,p]),children:(0,m.jsx)(ce,{scope:e.__scopeAccordion,collapsible:l,children:(0,m.jsx)(ue,(0,i.A)((0,i.A)({},o),{},{ref:a}))})})}),pe=t.forwardRef((e,a)=>{const{value:s,defaultValue:r,onValueChange:n=()=>{}}=e,l=(0,c.A)(e,K),[o,d]=(0,g.i)({prop:s,defaultProp:null!==r&&void 0!==r?r:[],onChange:n,caller:X}),p=t.useCallback(e=>d(function(){return[...arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e]}),[d]),x=t.useCallback(e=>d(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(a=>a!==e)}),[d]);return(0,m.jsx)(oe,{scope:e.__scopeAccordion,value:o,onItemOpen:p,onItemClose:x,children:(0,m.jsx)(ce,{scope:e.__scopeAccordion,collapsible:!0,children:(0,m.jsx)(ue,(0,i.A)((0,i.A)({},l),{},{ref:a}))})})}),[xe,he]=te(X),ue=t.forwardRef((e,a)=>{const{__scopeAccordion:s,disabled:r,dir:n,orientation:l="vertical"}=e,o=(0,c.A)(e,$),d=t.useRef(null),p=(0,v.s)(d,a),x=ae(s),h="ltr"===(0,B.jH)(n),u=(0,b.mK)(e.onKeyDown,e=>{var a;if(!Y.includes(e.key))return;const s=e.target,t=x().filter(e=>{var a;return!(null!==(a=e.ref.current)&&void 0!==a&&a.disabled)}),r=t.findIndex(e=>e.ref.current===s),n=t.length;if(-1===r)return;e.preventDefault();let o=r;const i=n-1,c=()=>{o=r+1,o>i&&(o=0)},d=()=>{o=r-1,o<0&&(o=i)};switch(e.key){case"Home":o=0;break;case"End":o=i;break;case"ArrowRight":"horizontal"===l&&(h?c():d());break;case"ArrowDown":"vertical"===l&&c();break;case"ArrowLeft":"horizontal"===l&&(h?d():c());break;case"ArrowUp":"vertical"===l&&d()}null===(a=t[o%n].ref.current)||void 0===a||a.focus()});return(0,m.jsx)(xe,{scope:s,disabled:r,direction:n,orientation:l,children:(0,m.jsx)(ee.Slot,{scope:s,children:(0,m.jsx)(N.sG.div,(0,i.A)((0,i.A)({},o),{},{"data-orientation":l,ref:p,onKeyDown:r?void 0:u}))})})}),fe="AccordionItem",[ve,be]=te(fe),ge=t.forwardRef((e,a)=>{const{__scopeAccordion:s,value:t}=e,r=(0,c.A)(e,W),n=he(fe,s),l=ie(fe,s),o=ne(s),d=(0,w.B)(),p=t&&l.value.includes(t)||!1,x=n.disabled||e.disabled;return(0,m.jsx)(ve,{scope:s,open:p,disabled:x,triggerId:d,children:(0,m.jsx)(Z,(0,i.A)((0,i.A)((0,i.A)({"data-orientation":n.orientation,"data-state":Ce(p)},o),r),{},{ref:a,disabled:x,open:p,onOpenChange:e=>{e?l.onItemOpen(t):l.onItemClose(t)}}))})});ge.displayName=fe;var Ne="AccordionHeader",Ae=t.forwardRef((e,a)=>{const{__scopeAccordion:s}=e,t=(0,c.A)(e,U),r=he(X,s),n=be(Ne,s);return(0,m.jsx)(N.sG.h3,(0,i.A)((0,i.A)({"data-orientation":r.orientation,"data-state":Ce(n.open),"data-disabled":n.disabled?"":void 0},t),{},{ref:a}))});Ae.displayName=Ne;var je="AccordionTrigger",we=t.forwardRef((e,a)=>{const{__scopeAccordion:s}=e,t=(0,c.A)(e,J),r=he(X,s),n=be(je,s),l=de(je,s),o=ne(s);return(0,m.jsx)(ee.ItemSlot,{scope:s,children:(0,m.jsx)(L,(0,i.A)((0,i.A)((0,i.A)({"aria-disabled":n.open&&!l.collapsible||void 0,"data-orientation":r.orientation,id:n.triggerId},o),t),{},{ref:a}))})});we.displayName=je;var ye="AccordionContent",_e=t.forwardRef((e,a)=>{const{__scopeAccordion:s}=e,t=(0,c.A)(e,Q),r=he(X,s),n=be(ye,s),l=ne(s);return(0,m.jsx)(P,(0,i.A)((0,i.A)((0,i.A)({role:"region","aria-labelledby":n.triggerId,"data-orientation":r.orientation},l),t),{},{ref:a,style:(0,i.A)({"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)"},e.style)}))});function Ce(e){return e?"open":"closed"}_e.displayName=ye;var Re=le,ke=ge,Ee=Ae,De=we,Ie=_e,Ve=s(2382);const Se=["className"],ze=["className","children"],Oe=["className","children"],Fe=Re,Me=t.forwardRef((e,a)=>{let{className:s}=e,t=(0,c.A)(e,Se);return(0,m.jsx)(ke,(0,i.A)({ref:a,className:(0,d.cn)("border-b",s)},t))});Me.displayName="AccordionItem";const He=t.forwardRef((e,a)=>{let{className:s,children:t}=e,r=(0,c.A)(e,ze);return(0,m.jsx)(Ee,{className:"flex",children:(0,m.jsxs)(De,(0,i.A)((0,i.A)({ref:a,className:(0,d.cn)("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180",s)},r),{},{children:[t,(0,m.jsx)(Ve.A,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]}))})});He.displayName=De.displayName;const Te=t.forwardRef((e,a)=>{let{className:s,children:t}=e,r=(0,c.A)(e,Oe);return(0,m.jsx)(Ie,(0,i.A)((0,i.A)({ref:a,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down"},r),{},{children:(0,m.jsx)("div",{className:(0,d.cn)("pb-4 pt-0",s),children:t})}))});Te.displayName=Ie.displayName;var Ze=s(6328),Le=s(5469);const Pe=(0,s(7784).A)("bookmark-check",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]]);var Be=s(3528),Ge=s(3944),qe=s(9855);const Ke="".concat("http://3.90.248.179:8000","/api"),$e="https://image.tmdb.org/t/p/original",We=()=>{const{id:e}=(0,n.g)(),{user:a}=(0,t.useContext)(l.cy),s=(0,n.Zp)(),[i,c]=(0,t.useState)(null),[d,p]=(0,t.useState)([]),[u,f]=(0,t.useState)(0),[v,b]=(0,t.useState)(""),[g,N]=(0,t.useState)(!0),[A,j]=(0,t.useState)(!1);(0,t.useEffect)(()=>{w(),y(),a&&_()},[e,a]);const w=async()=>{try{const a=await r.A.get("".concat(Ke,"/content/").concat(e));c(a.data)}catch(a){console.error("Error fetching content",a),Ze.oR.error("Error al cargar el contenido")}finally{N(!1)}},y=async()=>{try{const a=await r.A.get("".concat(Ke,"/reviews/content/").concat(e));p(a.data)}catch(a){console.error("Error fetching reviews",a)}},_=async()=>{try{const a=await r.A.get("".concat(Ke,"/watchlist/check/").concat(e));j(a.data.in_watchlist)}catch(a){console.error("Error checking watchlist",a)}};if(g)return(0,m.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900",children:(0,m.jsx)("div",{className:"text-white text-xl",children:"Cargando..."})});if(!i)return(0,m.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900",children:(0,m.jsx)("div",{className:"text-white text-xl",children:"Contenido no encontrado"})});const C=i.backdrop_path?"".concat($e).concat(i.backdrop_path):null;i.poster_path&&"".concat($e).concat(i.poster_path);return(0,m.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900",children:[(0,m.jsxs)("div",{className:"relative h-[60vh] overflow-hidden",children:[C&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("img",{src:C,alt:i.title,className:"w-full h-full object-cover"}),(0,m.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/60 to-transparent"})]}),(0,m.jsxs)(o.$,{"data-testid":"back-button",onClick:()=>s("/"),variant:"ghost",className:"absolute top-4 left-4 text-white hover:bg-white/10",children:[(0,m.jsx)(Le.A,{className:"w-5 h-5 mr-2"}),"Volver"]})]}),(0,m.jsxs)("div",{className:"container mx-auto px-4 -mt-32 relative z-10 pb-16",children:[(0,m.jsxs)("div",{className:"flex flex-col items-center md:flex-row gap-8",children:[(0,m.jsx)("img",{alt:i.title,className:"w-40 h-auto rounded-2xl shadow-xl md:w-80",src:$e+i.poster_path}),(0,m.jsxs)("div",{className:"flex-1 space-y-6",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-2",children:i.title}),i.original_title&&i.original_title!==i.title&&(0,m.jsxs)("p",{className:"text-xl text-gray-400 italic",children:["(",i.original_title,")"]})]}),a&&(0,m.jsx)(o.$,{"data-testid":"watchlist-button",onClick:async()=>{if(a)try{A?(await r.A.delete("".concat(Ke,"/watchlist/").concat(e)),Ze.oR.success("Eliminado de ver luego"),j(!1)):(await r.A.post("".concat(Ke,"/watchlist/").concat(e)),Ze.oR.success("Agregado para ver luego"),j(!0))}catch(n){var s,t;Ze.oR.error((null===(s=n.response)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.detail)||"Error al actualizar lista")}else Ze.oR.error("Debes iniciar sesi\xf3n")},className:"".concat(A?"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600":"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600"),children:A?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Pe,{className:"w-4 h-4 mr-2"}),"En mi lista"]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Be.A,{className:"w-4 h-4 mr-2"}),"Ver luego"]})}),(0,m.jsx)("div",{className:"flex flex-wrap gap-2",children:i.genres.map((e,a)=>(0,m.jsx)("span",{className:"px-3 py-1 bg-cyan-500/20 text-cyan-300 rounded-full text-sm border border-cyan-500/30",children:e},a))}),(0,m.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.vote_average&&(0,m.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,m.jsx)("p",{className:"text-gray-400 text-sm",children:"Calificaci\xf3n"}),(0,m.jsxs)("p",{className:"text-2xl font-bold text-yellow-400",children:["\u2b50 ",i.vote_average.toFixed(1)]})]}),i.release_date&&(0,m.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,m.jsx)("p",{className:"text-gray-400 text-sm",children:"Fecha de Lanzamiento"}),(0,m.jsx)("p",{className:"text-xl font-semibold",children:i.release_date})]})]}),i.countries&&i.countries.length>0&&(0,m.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,m.jsx)("p",{className:"text-gray-400 text-sm mb-2",children:"Pa\xeds"}),(0,m.jsx)("p",{className:"text-lg",children:i.countries.join(", ")})]}),i.overview&&(0,m.jsxs)("div",{className:"glass rounded-xl p-6",children:[(0,m.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Sinopsis"}),(0,m.jsx)("p",{className:"text-gray-300 leading-relaxed",children:i.overview})]}),i.seasons&&i.seasons.length>0&&(0,m.jsxs)("div",{className:"glass rounded-xl p-6",children:[(0,m.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Temporadas y Episodios"}),(0,m.jsx)(Fe,{type:"single",collapsible:!0,className:"space-y-2",children:i.seasons.map(e=>(0,m.jsxs)(Me,{value:"season-".concat(e.season_number),className:"border-white/10",children:[(0,m.jsx)(He,{className:"hover:no-underline hover:bg-white/5 px-4 rounded-lg",children:(0,m.jsxs)("span",{className:"font-semibold",children:[e.name," - ",e.episode_count," episodios"]})}),(0,m.jsx)(Te,{className:"px-4 pt-4",children:(0,m.jsx)("div",{className:"space-y-3",children:e.episodes&&e.episodes.map(e=>(0,m.jsxs)("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[(0,m.jsxs)("p",{className:"font-semibold",children:["Episodio ",e.episode_number,": ",e.name]}),e.overview&&(0,m.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:e.overview})]},e.episode_number))})})]},e.season_number))})]})]})]}),(0,m.jsxs)("div",{className:"mt-16",children:[(0,m.jsx)("h2",{className:"text-3xl font-bold mb-8",children:"Rese\xf1as"}),a&&(0,m.jsxs)(h.Zp,{className:"bg-slate-800/50 border-white/10 mb-8",children:[(0,m.jsx)(h.aR,{children:(0,m.jsx)(h.ZB,{className:"text-white",children:"Deja tu Rese\xf1a"})}),(0,m.jsxs)(h.Wu,{className:"space-y-4",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-sm text-gray-400 mb-2",children:"Calificaci\xf3n"}),(0,m.jsx)("div",{className:"flex gap-2",children:[1,2,3,4,5].map(e=>(0,m.jsx)("button",{"data-testid":"rating-star-".concat(e),onClick:()=>f(e),className:"transition-transform hover:scale-110",children:(0,m.jsx)(Ge.A,{className:"w-8 h-8 ".concat(e<=u?"fill-yellow-400 text-yellow-400":"text-gray-600")})},e))})]}),(0,m.jsx)(x,{"data-testid":"review-text-input",placeholder:"Escribe tu rese\xf1a aqu\xed...",value:v,onChange:e=>b(e.target.value),className:"bg-slate-900/50 border-white/10 text-white min-h-[120px]"}),(0,m.jsx)(o.$,{"data-testid":"submit-review-button",onClick:async()=>{if(a)if(0!==u&&v.trim())try{await r.A.post("".concat(Ke,"/reviews"),{content_id:e,rating:u,review_text:v}),Ze.oR.success("Rese\xf1a enviada exitosamente"),f(0),b(""),y()}catch(n){var s,t;Ze.oR.error((null===(s=n.response)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.detail)||"Error al enviar la rese\xf1a")}else Ze.oR.error("Por favor completa todos los campos");else Ze.oR.error("Debes iniciar sesi\xf3n para dejar una rese\xf1a")},className:"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600",children:"Enviar Rese\xf1a"})]})]}),(0,m.jsx)("div",{className:"space-y-4",children:0===d.length?(0,m.jsx)("p",{className:"text-gray-400 text-center py-8",children:"No hay rese\xf1as todav\xeda"}):d.map(e=>(0,m.jsx)(h.Zp,{className:"bg-slate-800/50 border-white/10",children:(0,m.jsxs)(h.Wu,{className:"pt-6",children:[(0,m.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"font-semibold text-white",children:e.user_email}),(0,m.jsx)("div",{className:"flex gap-1 mt-1",children:[...Array(5)].map((a,s)=>(0,m.jsx)(Ge.A,{className:"w-4 h-4 ".concat(s<e.rating?"fill-yellow-400 text-yellow-400":"text-gray-600")},s))})]}),("admin"===(null===a||void 0===a?void 0:a.role)||(null===a||void 0===a?void 0:a.email)===e.user_email)&&(0,m.jsx)(o.$,{"data-testid":"delete-review-".concat(e.id),onClick:()=>(async e=>{try{await r.A.delete("".concat(Ke,"/reviews/").concat(e)),Ze.oR.success("Rese\xf1a eliminada"),y()}catch(a){Ze.oR.error("Error al eliminar la rese\xf1a")}})(e.id),variant:"ghost",size:"sm",className:"text-red-400 hover:text-red-300 hover:bg-red-500/10",children:(0,m.jsx)(qe.A,{className:"w-4 h-4"})})]}),(0,m.jsx)("p",{className:"text-gray-300",children:e.review_text}),(0,m.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:new Date(e.created_at).toLocaleDateString()})]})},e.id))})]})]})]})}},3944:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(7784).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},5469:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(7784).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},9855:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(7784).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}}]);
//# sourceMappingURL=626.621513d1.chunk.js.map