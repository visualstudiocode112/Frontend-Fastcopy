{"version":3,"file":"static/js/266.49ca9869.chunk.js","mappings":"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","sources":["components/ui/select.jsx","components/FilterBar.jsx","pages/ContentPage.jsx","components/ui/content-card.jsx"],"sourcesContent":["import * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 text-white\",\n      className\n    )}\n    {...props}>\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\"flex cursor-default items-center justify-center py-1\", className)}\n    {...props}>\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\"flex cursor-default items-center justify-center py-1\", className)}\n    {...props}>\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        // force white text inside select content for contrast\n        \"text-white\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}>\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\"p-1\", position === \"popper\" &&\n          \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\")}>\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"px-2 py-1.5 text-sm font-semibold\", className)}\n    {...props} />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      // ensure item text is white for contrast with dark dropdown\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 text-white\",\n      className\n    )}\n    {...props}>\n    <span className=\"absolute right-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props} />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","import React, { useState } from 'react';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\n\r\nexport default function FilterBar({\r\n  genres = [],\r\n  countries = [],\r\n  years = [],\r\n  selectedGenre,\r\n  setSelectedGenre,\r\n  selectedCountry,\r\n  setSelectedCountry,\r\n  selectedYear,\r\n  setSelectedYear,\r\n}) {\r\n  // counter to force remount of Select components so their visual state\r\n  // (placeholder) is reset when user clears filters\r\n  const [resetCounter, setResetCounter] = useState(0);\r\n  return (\r\n    <div className=\"mb-6 flex flex-col sm:flex-row gap-2 items-center\">\r\n      <div className=\"w-full sm:w-64\">\r\n        <Select key={`genre-${resetCounter}`} value={selectedGenre} onValueChange={(v) => setSelectedGenre(v === '__all' ? undefined : v)}>\r\n          <SelectTrigger className=\"w-full bg-slate-900/50 border-white/10 text-white\">\r\n            <SelectValue placeholder=\"Género\" />\r\n          </SelectTrigger>\r\n          <SelectContent className=\"bg-slate-900 border-white/10\">\r\n            <SelectItem value=\"__all\">Todos</SelectItem>\r\n            {Array.from(new Set(genres)).sort().map((g) => (\r\n              <SelectItem key={g} value={g}>{g}</SelectItem>\r\n            ))}\r\n          </SelectContent>\r\n        </Select>\r\n      </div>\r\n\r\n      <div className=\"w-full sm:w-64\">\r\n        <Select key={`country-${resetCounter}`} value={selectedCountry} onValueChange={(v) => setSelectedCountry(v === '__all' ? undefined : v)}>\r\n          <SelectTrigger className=\"w-full bg-slate-900/50 border-white/10 text-white\">\r\n            <SelectValue placeholder=\"País\" />\r\n          </SelectTrigger>\r\n          <SelectContent className=\"bg-slate-900 border-white/10\">\r\n            <SelectItem value=\"__all\">Todos</SelectItem>\r\n            {Array.from(new Set(countries)).sort().map((c) => (\r\n              <SelectItem key={c} value={c}>{c}</SelectItem>\r\n            ))}\r\n          </SelectContent>\r\n        </Select>\r\n      </div>\r\n\r\n      <div className=\"w-full sm:w-40\">\r\n        <Select key={`year-${resetCounter}`} value={selectedYear} onValueChange={(v) => setSelectedYear(v === '__all' ? undefined : v)}>\r\n          <SelectTrigger className=\"w-full bg-slate-900/50 border-white/10 text-white\">\r\n            <SelectValue placeholder=\"Año\" />\r\n          </SelectTrigger>\r\n          <SelectContent className=\"bg-slate-900 border-white/10\">\r\n            <SelectItem value=\"__all\">Todos</SelectItem>\r\n            {Array.from(new Set(years)).sort((a,b)=>b-a).map((y) => (\r\n              <SelectItem key={y} value={y}>{y}</SelectItem>\r\n            ))}\r\n          </SelectContent>\r\n        </Select>\r\n      </div>\r\n\r\n      <div className=\"w-full sm:w-auto\">\r\n        <button onClick={() => { setSelectedGenre(undefined); setSelectedCountry(undefined); setSelectedYear(undefined); setResetCounter((c) => c + 1); }} className=\"px-3 py-2 bg-white/5 rounded\">Limpiar</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport { useSearchParams, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport ContentCard from '@/components/ui/content-card';\r\nimport FilterBar from '@/components/FilterBar';\r\nimport Header from '@/components/ui/header';\r\nimport { SearchContext } from '@/App';\r\n\r\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL || 'http://localhost:8000';\r\nconst API = `${BACKEND_URL}/api`;\r\n\r\nconst CONTENT_TYPES = [\r\n\t{ value: 'all', label: 'Todo' },\r\n\t{ value: 'movie', label: 'Películas' },\r\n\t{ value: 'tv', label: 'Series' },\r\n\t{ value: 'novela', label: 'Novelas' }\r\n];\r\n\r\nexport default function ContentPage() {\r\n\tconst [items, setItems] = useState(() => {\r\n\t\ttry {\r\n\t\t\tconst cached = localStorage.getItem('showlib_content');\r\n\t\t\tconst cachedTime = localStorage.getItem('showlib_content_time');\r\n\t\t\tif (cached && cachedTime) {\r\n\t\t\t\tconst now = Date.now();\r\n\t\t\t\t// Si los datos tienen menos de 10 minutos, usar cache\r\n\t\t\t\tif (now - Number(cachedTime) < 10 * 60 * 1000) {\r\n\t\t\t\t\tconst parsed = JSON.parse(cached);\r\n\t\t\t\t\treturn parsed.slice().sort((a, b) => {\r\n\t\t\t\t\t\tconst dateA = new Date(a.release_date || a.first_air_date || 0);\r\n\t\t\t\t\t\tconst dateB = new Date(b.release_date || b.first_air_date || 0);\r\n\t\t\t\t\t\treturn dateB - dateA;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\t// ignore\r\n\t\t}\r\n\t\treturn [];\r\n\t});\r\n\tconst [visibleCount, setVisibleCount] = useState(12);\r\n\tconst [isFetchingMore, setIsFetchingMore] = useState(false);\r\n\r\n\t// state & context needed by derived values and effects\r\n\tconst [searchParams, setSearchParams] = useSearchParams();\r\n\tconst initialType = searchParams.get('type') || 'all';\r\n\tconst [selectedType, setSelectedType] = useState(initialType);\r\n\tconst [selectedGenre, setSelectedGenre] = useState(undefined);\r\n\tconst [selectedCountry, setSelectedCountry] = useState(undefined);\r\n\tconst [selectedYear, setSelectedYear] = useState(undefined);\r\n\tconst [loading, setLoading] = useState(true);\r\n\tconst [error, setError] = useState(null);\r\n\tconst navigate = useNavigate();\r\n\tconst { searchQuery, setSearchQuery } = useContext(SearchContext);\r\n\tconst [searchResults, setSearchResults] = useState([]);\r\n\tconst [searchLoading, setSearchLoading] = useState(false);\r\n\tconst [searchError, setSearchError] = useState(null);\r\n\r\n\t// Move filteredItems definition above useEffect\r\n\tconst filteredItems = items\r\n\t\t.filter(item => {\r\n\t\t\tif (selectedType !== 'all' && item.content_type !== selectedType) return false;\r\n\t\t\tif (selectedGenre && !(item.genres || []).includes(selectedGenre)) return false;\r\n\t\t\tif (selectedCountry && !(item.countries || []).includes(selectedCountry)) return false;\r\n\t\t\tif (selectedYear) {\r\n\t\t\t\tconst y = (item.release_date || item.first_air_date || '').slice(0,4);\r\n\t\t\t\tif (!y || y !== selectedYear) return false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t});\r\n\t\t// Infinite scroll: load more when near bottom\r\n\t\tuseEffect(() => {\r\n\t\t\tif (searchQuery && String(searchQuery).trim()) return; // Don't auto-load on search results\r\n\t\t\tconst handleScroll = () => {\r\n\t\t\t\tif (loading || isFetchingMore) return;\r\n\t\t\t\tconst scrollY = window.scrollY || window.pageYOffset;\r\n\t\t\t\tconst viewport = window.innerHeight;\r\n\t\t\t\tconst fullHeight = document.documentElement.scrollHeight;\r\n\t\t\t\t// If near bottom (within 200px)\r\n\t\t\t\tif (scrollY + viewport >= fullHeight - 200) {\r\n\t\t\t\t\tif (visibleCount < filteredItems.length) {\r\n\t\t\t\t\t\tsetIsFetchingMore(true);\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tsetVisibleCount(v => v + 12);\r\n\t\t\t\t\t\t\tsetIsFetchingMore(false);\r\n\t\t\t\t\t\t}, 300);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\twindow.addEventListener('scroll', handleScroll);\r\n\t\t\treturn () => window.removeEventListener('scroll', handleScroll);\r\n\t\t}, [visibleCount, filteredItems.length, loading, isFetchingMore, searchQuery]);\r\n\r\n\tconst fetchData = async () => {\r\n\t\tsetLoading(true);\r\n\t\ttry {\r\n\t\t\t// Solo pedir al backend si no hay datos recientes en localStorage\r\n\t\t\tconst cached = localStorage.getItem('showlib_content');\r\n\t\t\tconst cachedTime = localStorage.getItem('showlib_content_time');\r\n\t\t\tconst now = Date.now();\r\n\t\t\tif (cached && cachedTime && now - Number(cachedTime) < 10 * 60 * 1000) {\r\n\t\t\t\tconst parsed = JSON.parse(cached);\r\n\t\t\t\tsetItems(parsed.slice().sort((a, b) => {\r\n\t\t\t\t\tconst dateA = new Date(a.release_date || a.first_air_date || 0);\r\n\t\t\t\t\tconst dateB = new Date(b.release_date || b.first_air_date || 0);\r\n\t\t\t\t\treturn dateB - dateA;\r\n\t\t\t\t}));\r\n\t\t\t\tsetError(null);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst resp = await axios.get(`${API}/content`);\r\n\t\t\tconst sorted = resp.data.slice().sort((a, b) => {\r\n\t\t\t\tconst dateA = new Date(a.release_date || a.first_air_date || 0);\r\n\t\t\t\tconst dateB = new Date(b.release_date || b.first_air_date || 0);\r\n\t\t\t\treturn dateB - dateA;\r\n\t\t\t});\r\n\t\t\tsetItems(sorted);\r\n\t\t\ttry {\r\n\t\t\t\tlocalStorage.setItem('showlib_content', JSON.stringify(sorted));\r\n\t\t\t\tlocalStorage.setItem('showlib_content_time', String(Date.now()));\r\n\t\t\t} catch (e) {}\r\n\t\t\tsetError(null);\r\n\t\t} catch (e) {\r\n\t\t\tsetError('No hay datos disponibles y el backend no responde');\r\n\t\t} finally {\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchData();\r\n\t\tconst interval = setInterval(fetchData, 20 * 60 * 1000);\r\n\t\treturn () => clearInterval(interval);\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, []);\r\n\r\n\t// Clear global search when leaving this page\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\ttry {\r\n\t\t\t\tsetSearchQuery('');\r\n\t\t\t} catch {}\r\n\t\t};\r\n\t\t// we only want to run cleanup on unmount\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst q = (searchQuery || '').trim();\r\n\t\tif (!q) {\r\n\t\t\tsetSearchResults([]);\r\n\t\t\tsetSearchError(null);\r\n\t\t\tsetSearchLoading(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet cancelled = false;\r\n\t\tconst normalize = (str) =>\r\n\t\t\t(str || \"\").toString().toLowerCase().normalize('NFD').replace(/\\p{Diacritic}/gu, '').replace(/[^\\p{L}\\p{N} ]+/gu, '');\r\n\t\tconst handler = setTimeout(async () => {\r\n\t\t\tsetSearchLoading(true);\r\n\t\t\tsetSearchError(null);\r\n\t\t\ttry {\r\n\t\t\t\t// Ensure we have items loaded; if not, fetch first\r\n\t\t\t\tif (!items || items.length === 0) {\r\n\t\t\t\t\tawait fetchData();\r\n\t\t\t\t}\r\n\t\t\t\tconst lower = normalize(q);\r\n\t\t\t\tconst results = (items || []).filter(item => {\r\n\t\t\t\t\t// Search in several fields: title, original_title/name, overview, genres, countries\r\n\t\t\t\t\tconst title = normalize(item.title || item.name || item.original_title || '');\r\n\t\t\t\t\tif (title.includes(lower)) return true;\r\n\t\t\t\t\tconst overview = normalize(item.overview || '');\r\n\t\t\t\t\tif (overview.includes(lower)) return true;\r\n\t\t\t\t\tconst genres = normalize((item.genres || []).join(' '));\r\n\t\t\t\t\tif (genres.includes(lower)) return true;\r\n\t\t\t\t\tconst countries = normalize((item.countries || []).join(' '));\r\n\t\t\t\t\tif (countries.includes(lower)) return true;\r\n\t\t\t\t\tconst year = (item.release_date || item.first_air_date || '').slice(0,4);\r\n\t\t\t\t\tif (year && normalize(year).includes(lower)) return true;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (!cancelled) setSearchResults(results || []);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tif (!cancelled) setSearchError('Error al filtrar contenidos');\r\n\t\t\t} finally {\r\n\t\t\t\tif (!cancelled) setSearchLoading(false);\r\n\t\t\t}\r\n\t\t}, 300); // debounce 300ms\r\n\r\n\t\treturn () => {\r\n\t\t\tcancelled = true;\r\n\t\t\tclearTimeout(handler);\r\n\t\t};\r\n\t}, [searchQuery, items]);\r\n\r\n\treturn (\r\n\t\t<div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900\">\r\n\t\t\t<Header />\r\n\t\t\t<div className=\"pt-20 container mx-auto px-2 sm:px-4\">\r\n\t\t\t\t{searchQuery && String(searchQuery).trim() ? (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<h2 className=\"text-xl sm:text-2xl font-semibold mb-3 sm:mb-4 text-cyan-300\">Resultados de búsqueda para &quot;{searchQuery}&quot;</h2>\r\n\t\t\t\t\t\t{searchLoading && <p className=\"text-gray-300\">Buscando...</p>}\r\n\t\t\t\t\t\t{searchError && <p className=\"text-yellow-300\">{String(searchError)}</p>}\r\n\t\t\t\t\t\t{!searchLoading && searchResults.length === 0 && !searchError && (\r\n\t\t\t\t\t\t\t<p className=\"text-gray-400\">No se encontraron resultados</p>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 sm:gap-6\">\r\n\t\t\t\t\t\t\t{searchResults.map(item => (\r\n\t\t\t\t\t\t\t\t<ContentCard key={item.id} content={item} onClick={() => navigate(`/content/${item.id}`)} />\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"mt-4 sm:mt-6\">\r\n\t\t\t\t\t\t\t<button onClick={() => setSearchQuery('')} className=\"px-3 py-2 sm:px-4 sm:py-2 bg-white/5 rounded\">Limpiar búsqueda</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<h2 className=\"text-2xl sm:text-3xl font-bold mb-4 sm:mb-6 text-cyan-400\">Catálogo de Contenido</h2>\r\n\t\t\t\t\t\t<div className=\"mb-3 sm:mb-4 flex flex-wrap gap-2\">\r\n\t\t\t\t\t\t\t{CONTENT_TYPES.map(type => (\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tkey={type.value}\r\n\t\t\t\t\t\t\t\t\tclassName={`px-3 py-2 sm:px-4 sm:py-2 rounded ${selectedType === type.value ? 'bg-cyan-500 text-white' : 'bg-white/5 text-cyan-400'}`}\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tsetSelectedType(type.value);\r\n\t\t\t\t\t\t\t\t\t\tsetSearchParams({ type: type.value });\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{type.label}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<FilterBar\r\n\t\t\t\t\t\t\tgenres={Array.from(new Set(items.flatMap((i) => i.genres || [])))}\r\n\t\t\t\t\t\t\tcountries={Array.from(new Set(items.flatMap((i) => i.countries || [])))}\r\n\t\t\t\t\t\t\tyears={Array.from(new Set(items.map((i) => (i.release_date || '').slice(0,4)).filter(Boolean)))}\r\n\t\t\t\t\t\t\tselectedGenre={selectedGenre}\r\n\t\t\t\t\t\t\tsetSelectedGenre={setSelectedGenre}\r\n\t\t\t\t\t\t\tselectedCountry={selectedCountry}\r\n\t\t\t\t\t\t\tsetSelectedCountry={setSelectedCountry}\r\n\t\t\t\t\t\t\tselectedYear={selectedYear}\r\n\t\t\t\t\t\t\tsetSelectedYear={setSelectedYear}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{loading && <p className=\"text-gray-300\">Cargando...</p>}\r\n\t\t\t\t\t\t{error && <p className=\"text-yellow-300\">{String(error)}</p>}\r\n\t\t\t\t\t\t<div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 sm:gap-6\">\r\n\t\t\t\t\t\t\t{filteredItems.slice(0, visibleCount).map(item => (\r\n\t\t\t\t\t\t\t\t<ContentCard key={item.id} content={item} onClick={() => navigate(`/content/${item.id}`)} />\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{visibleCount < filteredItems.length && (\r\n\t\t\t\t\t\t\t<div className=\"flex justify-center mt-4 sm:mt-6\">\r\n\t\t\t\t\t\t\t\t<button onClick={() => setVisibleCount(v => v + 12)} className=\"px-3 py-2 sm:px-4 sm:py-2 bg-white/5 rounded\">Cargar más</button>\r\n\t\t\t\t\t\t\t\t{isFetchingMore && <span className=\"ml-3 text-gray-400\">Cargando más...</span>}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n\r\n","import React from 'react';\r\n\r\nconst TMDB_IMAGE_BASE = \"https://image.tmdb.org/t/p\";\r\n\r\nexport default function ContentCard({ content, onClick }) {\r\n  const posterUrl = content.poster_path ? `${TMDB_IMAGE_BASE}/w500${content.poster_path}` : 'https://via.placeholder.com/500x750?text=No+Image';\r\n  const posterSrcSet = content.poster_path\r\n    ? `${TMDB_IMAGE_BASE}/w300${content.poster_path} 300w, ${TMDB_IMAGE_BASE}/w500${content.poster_path} 500w, ${TMDB_IMAGE_BASE}/w780${content.poster_path} 780w`\r\n    : undefined;\r\n  const posterSizes = \"(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 20vw\";\r\n\r\n  const translateType = (type) => {\r\n    if (!type) return '';\r\n    const t = type.toLowerCase();\r\n    if (t === 'movie' || t === 'pelicula') return 'Película';\r\n    if (t === 'tv' || t === 'serie') return 'Serie';\r\n    if (t === 'novela') return 'Novela';\r\n    return type;\r\n  };\r\n\r\n  return (\r\n    <div onClick={onClick} className=\"glass rounded-xl overflow-hidden cursor-pointer card-hover group h-full flex flex-col\">\r\n      <div className=\"relative aspect-[2/3] overflow-hidden flex-shrink-0\">\r\n        <img\r\n          src={posterUrl}\r\n          srcSet={posterSrcSet}\r\n          sizes={posterSizes}\r\n          loading=\"lazy\"\r\n          decoding=\"async\"\r\n          alt={content.title}\r\n          className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500\" />\r\n        <div className=\"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300\" />\r\n      </div>\r\n      <div className=\"p-3 flex-1 flex flex-col justify-between\">\r\n        <h4 className=\"font-semibold text-white text-[clamp(0.9rem,2.5vw,1rem)] line-clamp-2 mb-2\" style={{minHeight: '2.4rem'}}>{content.title}</h4>\r\n        <div className=\"flex items-center justify-between mt-2\">\r\n          <span className=\"text-xs text-gray-400\">{translateType(content.content_type)}</span>\r\n          {typeof content.vote_average === 'number' && content.vote_average > 0 ? (\r\n            <span className=\"text-xs text-yellow-400 flex items-center\">\r\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 20 20\" fill=\"currentColor\" className=\"inline mr-1 text-yellow-400\">\r\n                <path d=\"M10 15.27L16.18 18l-1.64-7.03L20 7.24l-7.19-.61L10 0 7.19 6.63 0 7.24l5.46 3.73L3.82 18z\" />\r\n              </svg>\r\n              {content.vote_average.toFixed(1)}\r\n            </span>\r\n          ) : null}\r\n        </div>\r\n          {/* Button removed as per patch request */}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["Select","SelectPrimitive","SelectValue","SelectTrigger","React","_ref","ref","className","children","props","_objectWithoutProperties","_excluded","_jsxs","_objectSpread","cn","_jsx","asChild","ChevronDown","displayName","SelectScrollUpButton","_ref2","_excluded2","ChevronUp","SelectScrollDownButton","_ref3","_excluded3","SelectContent","_ref4","position","_excluded4","_ref5","_excluded5","SelectItem","_ref6","_excluded6","Check","_ref7","_excluded7","FilterBar","genres","countries","years","selectedGenre","setSelectedGenre","selectedCountry","setSelectedCountry","selectedYear","setSelectedYear","resetCounter","setResetCounter","useState","value","onValueChange","v","undefined","placeholder","Array","from","Set","sort","map","g","concat","c","a","b","y","onClick","API","process","CONTENT_TYPES","label","ContentPage","items","setItems","cached","localStorage","getItem","cachedTime","Date","now","Number","JSON","parse","slice","dateA","release_date","first_air_date","e","visibleCount","setVisibleCount","isFetchingMore","setIsFetchingMore","searchParams","setSearchParams","useSearchParams","initialType","get","selectedType","setSelectedType","loading","setLoading","error","setError","navigate","useNavigate","searchQuery","setSearchQuery","useContext","SearchContext","searchResults","setSearchResults","searchLoading","setSearchLoading","searchError","setSearchError","filteredItems","filter","item","content_type","includes","useEffect","String","trim","handleScroll","window","scrollY","pageYOffset","innerHeight","document","documentElement","scrollHeight","length","setTimeout","addEventListener","removeEventListener","fetchData","async","parsed","sorted","axios","data","setItem","stringify","interval","setInterval","clearInterval","_unused","q","cancelled","normalize","str","toString","toLowerCase","replace","handler","lower","results","title","name","original_title","overview","join","year","clearTimeout","Header","ContentCard","content","id","_Fragment","type","flatMap","i","Boolean","TMDB_IMAGE_BASE","posterUrl","poster_path","posterSrcSet","src","srcSet","sizes","decoding","alt","style","minHeight","t","translateType","vote_average","width","height","viewBox","fill","d","toFixed"],"sourceRoot":""}