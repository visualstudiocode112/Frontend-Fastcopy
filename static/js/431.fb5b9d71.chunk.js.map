{"version":3,"file":"static/js/431.fb5b9d71.chunk.js","mappings":"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","sources":["components/ui/carousel.jsx","components/ui/hero-carousel.jsx","pages/HomePage.jsx","components/ui/content-card.jsx"],"sourcesContent":["import React, { useCallback, useEffect, useState, useRef } from 'react';\nimport useEmblaCarousel from 'embla-carousel-react';\nimport { ArrowLeft, ArrowRight } from 'lucide-react';\n\n// Embla-based carousel with swipe, dots and optional autoplay\nexport default function Carousel({ items = [], autoplay = true, autoplayInterval = 3500, showArrows = true, showDots = false }) {\n  const [emblaRef, embla] = useEmblaCarousel({ loop: false, align: 'center' });\n  const viewportNode = useRef(null);\n  const [selectedIndex, setSelectedIndex] = useState(0);\n  const autoplayRef = useRef(null);\n  const [slideWidth, setSlideWidth] = useState('33.333%');\n  // allow smaller cards on large screens so we can show up to 6\n  const minSlideWidth = '120px';\n\n  const scrollTo = useCallback((index) => embla && embla.scrollTo(index), [embla]);\n\n  useEffect(() => {\n    if (!embla) return;\n    const onSelect = () => setSelectedIndex(embla.selectedScrollSnap());\n    embla.on('select', onSelect);\n    onSelect();\n    return () => embla.off('select', onSelect);\n  }, [embla]);\n\n  // responsive slide width: 2 per view for very small screens, 3 otherwise\n  useEffect(() => {\n    const update = () => {\n      try {\n        const w = window.innerWidth;\n        // breakpoints control how many cards visible per view:\n        // <=420px -> 2 per view (50%)\n        // <=640px -> 3 per view (33.333%)\n        // <=1024px -> 4 per view (25%)\n        // <=1280px -> 5 per view (20%)\n        // >1280px -> 6 per view (~16.6667%)\n        if (w <= 420) setSlideWidth('50%');\n        else if (w <= 640) setSlideWidth('33.333%');\n        else if (w <= 1024) setSlideWidth('25%');\n        else if (w <= 1280) setSlideWidth('20%');\n        else setSlideWidth('16.6667%');\n      } catch {}\n    };\n    update();\n    window.addEventListener('resize', update);\n    return () => window.removeEventListener('resize', update);\n  }, []);\n\n  // autoplay with pause on hover\n  useEffect(() => {\n    if (!embla || !autoplay) return;\n    const play = () => {\n      if (!embla) return;\n      const snaps = embla.scrollSnapList();\n      const next = embla.selectedScrollSnap() + 1;\n      if (next >= snaps.length) {\n        embla.scrollTo(0);\n      } else {\n        embla.scrollTo(next);\n      }\n    };\n    autoplayRef.current = setInterval(play, autoplayInterval);\n\n    const vp = viewportNode.current;\n    const pause = () => clearInterval(autoplayRef.current);\n    const resume = () => {\n      clearInterval(autoplayRef.current);\n      autoplayRef.current = setInterval(play, autoplayInterval);\n    };\n    if (vp) {\n      vp.addEventListener('pointerenter', pause);\n      vp.addEventListener('pointerleave', resume);\n    }\n    return () => {\n      clearInterval(autoplayRef.current);\n      if (vp) {\n        vp.removeEventListener('pointerenter', pause);\n        vp.removeEventListener('pointerleave', resume);\n      }\n    };\n  }, [embla, autoplay, autoplayInterval]);\n\n  return (\n    <div className=\"w-full relative\">\n      <div className=\"overflow-hidden\" ref={(node) => { emblaRef(node); viewportNode.current = node; }}>\n        <div className=\"flex\">\n          {items.map((child, i) => (\n            <div key={i} className=\"flex-shrink-0 px-2\" style={{ width: slideWidth, minWidth: minSlideWidth }}>\n              {child}\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {showArrows && (\n        <>\n          <button\n            aria-label=\"anterior\"\n            onClick={() => embla && embla.scrollPrev()}\n            className=\"absolute left-2 top-1/2 -translate-y-1/2 bg-white/10 text-white rounded-full p-2 hidden sm:inline\"\n          >\n            <ArrowLeft className=\"w-4 h-4\" />\n          </button>\n          <button\n            aria-label=\"siguiente\"\n            onClick={() => embla && embla.scrollNext()}\n            className=\"absolute right-2 top-1/2 -translate-y-1/2 bg-white/10 text-white rounded-full p-2 hidden sm:inline\"\n          >\n            <ArrowRight className=\"w-4 h-4\" />\n          </button>\n        </>\n      )}\n\n      {/* dots (optional) */}\n      {showDots && (\n        <div className=\"flex items-center justify-center gap-2 mt-3\">\n          {(embla ? embla.scrollSnapList() : Array.from({ length: items.length })).map((_, idx) => (\n            <button\n              key={idx}\n              onClick={() => scrollTo(idx)}\n              className={`w-2 h-2 rounded-full ${selectedIndex === idx ? 'bg-white' : 'bg-white/30'}`}\n              aria-label={`go-to-slide-${idx}`}\n            />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport useEmblaCarousel from 'embla-carousel-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst TMDB_BACKDROP = 'https://image.tmdb.org/t/p/original';\r\n\r\nexport default function HeroCarousel({ items = [], autoplay = true, autoplayInterval = 5000 }) {\r\n  // embla with one slide per view\r\n  const [emblaRef, embla] = useEmblaCarousel({ loop: true, align: 'start', containScroll: 'trimSnaps' });\r\n  const autoplayRef = useRef(null);\r\n  const [selectedIndex, setSelectedIndex] = useState(0);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (!embla) return;\r\n    const onSelect = () => setSelectedIndex(embla.selectedScrollSnap());\r\n    embla.on('select', onSelect);\r\n    onSelect();\r\n    return () => embla.off('select', onSelect);\r\n  }, [embla]);\r\n\r\n\r\n  useEffect(() => {\r\n    if (!embla || !autoplay) return;\r\n    const play = () => {\r\n      if (!embla) return;\r\n      const next = embla.selectedScrollSnap() + 1;\r\n      const snaps = embla.scrollSnapList();\r\n      if (next >= snaps.length) embla.scrollTo(0);\r\n      else embla.scrollTo(next);\r\n    };\r\n    autoplayRef.current = setInterval(play, autoplayInterval);\r\n    const vp = embla && embla.containerNode();\r\n    const pause = () => clearInterval(autoplayRef.current);\r\n    const resume = () => {\r\n      clearInterval(autoplayRef.current);\r\n      autoplayRef.current = setInterval(play, autoplayInterval);\r\n    };\r\n    if (vp) {\r\n      vp.addEventListener('pointerenter', pause);\r\n      vp.addEventListener('pointerleave', resume);\r\n    }\r\n    return () => {\r\n      clearInterval(autoplayRef.current);\r\n      if (vp) {\r\n        vp.removeEventListener('pointerenter', pause);\r\n        vp.removeEventListener('pointerleave', resume);\r\n      }\r\n    };\r\n  }, [embla, autoplay, autoplayInterval]);\r\n\r\n  if (!items || items.length === 0) return null;\r\n\r\n  const daysNew = 30;\r\n  const now = new Date();\r\n\r\n  const truncate = (str, n = 300) => {\r\n    if (!str) return '';\r\n    return str.length > n ? str.slice(0, n - 1) + '…' : str;\r\n  };\r\n\r\n  // Optimización: solo renderizar el slide activo y los adyacentes\r\n  const visibleSlides = items.filter((_, idx) => Math.abs(idx - selectedIndex) <= 1);\r\n\r\n  return (\r\n    <div className=\"w-full relative\">\r\n      <div className=\"embla overflow-hidden\" ref={emblaRef}>\r\n        <div className=\"embla__container flex\">\r\n          {items.map((item, idx) => {\r\n            // Solo renderizar el slide activo y los adyacentes\r\n            if (Math.abs(idx - selectedIndex) > 1) return <div key={item.id || idx} className=\"embla__slide min-h-[45vh] sm:min-h-[55vh] w-full flex-shrink-0 relative\" />;\r\n            const backdrop = item.backdrop_path || item.poster_path;\r\n            const bg = backdrop ? `${TMDB_BACKDROP}${backdrop}` : null;\r\n            const title = item.title || item.name || item.original_title;\r\n            const overview = item.overview || '';\r\n            const dateSrc = item._date || item.release_date || item.first_air_date;\r\n            const parsedDate = dateSrc ? new Date(dateSrc) : new Date('1970-01-01');\r\n            const isNew = !isNaN(parsedDate) && ((now - parsedDate) / (1000 * 60 * 60 * 24) <= daysNew);\r\n            const shortOverview = truncate(overview, 300);\r\n            return (\r\n              <div key={item.id || idx} className=\"embla__slide min-h-[45vh] sm:min-h-[55vh] w-full flex-shrink-0 relative\">\r\n                {bg ? (\r\n                  <img src={bg} alt={title} className=\"absolute inset-0 w-full h-full object-cover\" loading=\"lazy\" decoding=\"async\" />\r\n                ) : (\r\n                  <div className=\"absolute inset-0 bg-gradient-to-r from-slate-800 via-slate-900 to-slate-800\" />\r\n                )}\r\n                <div className=\"absolute inset-0 bg-gradient-to-r from-black/70 via-transparent to-transparent\" />\r\n                <div className=\"relative z-10 container mx-auto py-20 px-4 flex items-center\" style={{minHeight: '55vh'}}>\r\n                  <div className=\"max-w-3xl text-left\">\r\n                    <div className=\"flex items-center gap-3 mb-3\">\r\n                      <h2 className=\"text-3xl sm:text-5xl font-bold text-white\">{title}</h2>\r\n                      {isNew && (\r\n                        <span className=\"inline-block bg-rose-500 text-white text-xs font-semibold px-2 py-1 rounded\">Nuevo</span>\r\n                      )}\r\n                    </div>\r\n                    <p className=\"text-gray-200 mb-6 line-clamp-4\">{shortOverview}</p>\r\n                    <div className=\"flex gap-3\">\r\n                      <Button aria-label={`ver-detalles-${item.id}`} onClick={() => navigate(`/content/${item.id}`)} className=\"bg-gradient-to-r from-cyan-500 to-blue-500\">Ver detalles</Button>\r\n                   </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n\r\n      {/* dots */}\r\n      <div className=\"absolute bottom-4 left-0 right-0 flex items-center justify-center gap-2\">\r\n        {Array.from({ length: items.length }).map((_, idx) => (\r\n          <button key={idx} onClick={() => embla && embla.scrollTo(idx)} className={`w-3 h-3 rounded-full ${selectedIndex === idx ? 'bg-white' : 'bg-white/30'}`} aria-label={`go-to-${idx}`} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useContext } from \"react\";\nimport axios from \"axios\";\nimport { AuthContext, SearchContext } from \"@/App\";\nimport { useNavigate } from \"react-router-dom\";\nimport Carousel from \"@/components/ui/carousel\";\nimport ContentCard from \"@/components/ui/content-card\";\nimport HeroCarousel from \"@/components/ui/hero-carousel\";\n\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\nconst API = `${BACKEND_URL}/api`;\nconst TMDB_IMAGE_BASE = \"https://image.tmdb.org/t/p/w500\";\n\nconst HomePage = () => {\n  const { user, login, logout } = useContext(AuthContext);\n  const { searchQuery } = useContext(SearchContext);\n  const [searchResults, setSearchResults] = useState([]);\n  const [searchLoading, setSearchLoading] = useState(false);\n  const [searchError, setSearchError] = useState(null);\n  const [content, setContent] = useState(() => {\n    // Intenta cargar desde localStorage al iniciar\n    try {\n      const cached = localStorage.getItem(\"showlib_content\");\n      return cached ? JSON.parse(cached) : [];\n    } catch {\n      return [];\n    }\n  });\n    \n  const [filteredContent, setFilteredContent] = useState([]);\n  // Historial de géneros y tipos buscados y visitados\n  const [userHistory, setUserHistory] = useState(() => {\n    try {\n      const cached = localStorage.getItem(\"user_history\");\n      return cached ? JSON.parse(cached) : { genres: [], types: [], genreCount: {} };\n    } catch {\n      return { genres: [], types: [], genreCount: {} };\n    }\n  });\n  const navigate = useNavigate();\n\n  // fetchContent debe estar definido antes de usarse en useEffect\n  const fetchContent = async () => {\n    try {\n      const response = await axios.get(`${API}/content`);\n      setContent(response.data);\n      setFilteredContent(response.data);\n      // Guarda en localStorage\n      localStorage.setItem(\"showlib_content\", JSON.stringify(response.data));\n    } catch (error) {\n      console.error(\"Error fetching content\", error);\n      // Si falla la conexión, usa el cache\n      try {\n        const cached = localStorage.getItem(\"showlib_content\");\n        if (cached) {\n          setContent(JSON.parse(cached));\n          setFilteredContent(JSON.parse(cached));\n        }\n      } catch {}\n    }\n  };\n\n  useEffect(() => {\n  // Si hay conexión, actualiza desde el backend\n  fetchContent();\n  // Si no hay conexión, se mantiene el cache\n  // (fetchContent ya maneja error de conexión)\n  }, []);\n\n  useEffect(() => {\n    let cancelled = false;\n    const doSearch = async () => {\n      if (!searchQuery || searchQuery.trim() === '') {\n        setSearchResults([]);\n        setSearchError(null);\n        setSearchLoading(false);\n        setFilteredContent(content);\n        return;\n      }\n      setSearchLoading(true);\n      setSearchError(null);\n      try {\n        const resp = await axios.get(`${API}/content`, { params: { q: searchQuery } });\n        if (!cancelled) {\n          setSearchResults(resp.data || []);\n          setFilteredContent(resp.data || []);\n        }\n      } catch (e) {\n        if (!cancelled) setSearchError('Error buscando contenido');\n      } finally {\n        if (!cancelled) setSearchLoading(false);\n      }\n    };\n    doSearch();\n    return () => { cancelled = true; };\n  }, [searchQuery, content]);\n\n  // Actualiza historial al buscar\n  useEffect(() => {\n    if (searchQuery && user) {\n      const foundGenres = [];\n      const foundTypes = [];\n      filteredContent.forEach(item => {\n        if (item.genres) {\n          item.genres.forEach(g => { if (!foundGenres.includes(g)) foundGenres.push(g); });\n        }\n        if (item.content_type && !foundTypes.includes(item.content_type)) {\n          foundTypes.push(item.content_type);\n        }\n      });\n      // Actualiza historial\n      const newHistory = {\n        genres: Array.from(new Set([...userHistory.genres, ...foundGenres])).slice(-10),\n        types: Array.from(new Set([...userHistory.types, ...foundTypes])).slice(-5),\n        genreCount: { ...userHistory.genreCount }\n      };\n      setUserHistory(newHistory);\n      localStorage.setItem(\"user_history\", JSON.stringify(newHistory));\n    }\n  }, [searchQuery, filteredContent, user]);\n\n  // Actualiza historial al visitar un contenido (abrir card)\n  const handleContentClick = (item) => {\n    if (user) {\n      // Contar cuántas veces se abren géneros\n      const genreCount = { ...userHistory.genreCount };\n      if (item.genres) {\n        item.genres.forEach(g => {\n          genreCount[g] = (genreCount[g] || 0) + 1;\n        });\n      }\n      const newHistory = {\n        genres: item.genres ? Array.from(new Set([...userHistory.genres, ...item.genres])).slice(-10) : userHistory.genres,\n        types: item.content_type ? Array.from(new Set([...userHistory.types, item.content_type])).slice(-5) : userHistory.types,\n        genreCount\n      };\n      setUserHistory(newHistory);\n      localStorage.setItem(\"user_history\", JSON.stringify(newHistory));\n    }\n    navigate(`/content/${item.id}`);\n  };\n\n  // Generar recomendaciones según los géneros más frecuentes y búsquedas, variando cada 30 minutos\n  const [recommendationSeed, setRecommendationSeed] = useState(() => Math.floor(Date.now() / (1000 * 60 * 30)));\n\n  useEffect(() => {\n    // Actualiza el seed cada 30 minutos\n    const interval = setInterval(() => {\n      setRecommendationSeed(Math.floor(Date.now() / (1000 * 60 * 30)));\n    }, 1000 * 60 * 5); // revisa cada 5 minutos\n    return () => clearInterval(interval);\n  }, []);\n\n  function shuffleArray(array, seed) {\n    // Algoritmo de Fisher-Yates con seed\n    let m = array.length, t, i;\n    let random = mulberry32(seed);\n    const arr = array.slice();\n    while (m) {\n      i = Math.floor(random() * m--);\n      t = arr[m];\n      arr[m] = arr[i];\n      arr[i] = t;\n    }\n    return arr;\n  }\n  // Generador pseudoaleatorio simple\n  function mulberry32(a) {\n    return function() {\n      var t = a += 0x6D2B79F5;\n      t = Math.imul(t ^ t >>> 15, t | 1);\n      t ^= t + Math.imul(t ^ t >>> 7, t | 61);\n      return ((t ^ t >>> 14) >>> 0) / 4294967296;\n    }\n  }\n\n  // Calcula los géneros más frecuentes antes de usarlos\n  const topGenres = Object.entries(userHistory.genreCount || {})\n    .sort((a, b) => b[1] - a[1])\n    .slice(0, 3)\n    .map(([g]) => g);\n\n  const baseRecommended = content.filter(item =>\n    (topGenres.length > 0\n      ? item.genres && item.genres.some(g => topGenres.includes(g))\n      : userHistory.genres.some(g => item.genres && item.genres.includes(g))\n    ) || userHistory.types.includes(item.content_type)\n  ).sort((a, b) => b._date - a._date);\n\n  const recommended = shuffleArray(baseRecommended, recommendationSeed).slice(0, 10);\n\n  // Authentication is handled by the shared Header component.\n\n  // Ordenar por fecha más reciente primero\n  const movies = filteredContent\n    .map((c) => ({\n      ...c,\n      _date: new Date((c.release_date || c.first_air_date || '1970-01-01').slice(0,10))\n    }))\n    .filter((c) => c.content_type === \"movie\" && c._date.toString() !== 'Invalid Date')\n    .sort((a, b) => b._date - a._date);\n\n  const tvShows = filteredContent\n    .map((c) => ({\n      ...c,\n      _date: new Date((c.release_date || c.first_air_date || '1970-01-01').slice(0,10))\n    }))\n    .filter((c) => c.content_type === \"tv\" && c._date.toString() !== 'Invalid Date')\n    .sort((a, b) => b._date - a._date);\n\n  const novelas = filteredContent\n    .map((c) => ({\n      ...c,\n      _date: new Date((c.release_date || c.first_air_date || '1970-01-01').slice(0,10))\n    }))\n    .filter((c) => c.content_type === \"novela\" && c._date.toString() !== 'Invalid Date')\n    .sort((a, b) => b._date - a._date);\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900\">\n      {/* Header is provided by the shared Header component */}\n\n      {/* Hero Section: latest 5 releases carousel */}\n      <section className=\"pb-2 px-0\">\n        <HeroCarousel items={\n          // build list of content sorted by release/air date desc and take 5\n          content\n            .map((c) => ({\n              ...c,\n              _date: new Date((c.release_date || c.first_air_date || '1970-01-01').slice(0,10))\n            }))\n            .filter((c) => c._date.toString() !== 'Invalid Date')\n            .sort((a,b) => b._date - a._date)\n            .slice(0,5)\n        } autoplay={true} autoplayInterval={5000} />\n      </section>\n\n      {/* Recomendados para ti */}\n      {user && recommended.length > 0 && (\n        <section className=\"mb-8 pt-2\">\n          <h3 className=\"text-xl sm:text-3xl font-bold text-pink-400 mb-2 sm:mb-4 text-center\">Recomendados para ti</h3>\n          <div className=\"sm:-mx-0 -mx-2\">\n            <Carousel items={recommended.map((item) => (\n              <ContentCard key={item.id} content={item} onClick={() => handleContentClick(item)} />\n            ))} showArrows={true} autoplay={true} autoplayInterval={4100} showDots={false} />\n          </div>\n        </section>\n      )}\n\n      {/* Content Section: SIEMPRE visible para todos */}\n      <section className=\"mb-8 pt-2 px-0 pb-16\">\n        <div className=\"container mx-auto\">\n          {/* Movies */}\n          {movies.length > 0 && (\n            <div className=\"mb-12\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-2xl sm:text-3xl font-bold text-cyan-400\">Películas</h3>\n                <div className=\"flex gap-2\">\n                  <button onClick={() => navigate('/contenido?type=movie')} className=\"text-sm text-white/90 bg-white/5 px-3 py-1 rounded\">Ver todas</button>\n                </div>\n              </div>\n              <div className=\"sm:-mx-0 -mx-2\">\n                <Carousel items={movies.slice(0, 10).map((item) => (\n                  <ContentCard key={item.id} content={item} onClick={() => handleContentClick(item)} />\n                ))} showArrows={true} autoplay={true} autoplayInterval={4000} showDots={false} />\n              </div>\n            </div>\n          )}\n\n          {/* TV Shows */}\n          {tvShows.length > 0 && (\n            <div className=\"mb-12\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-2xl sm:text-3xl font-bold text-blue-400\">Series</h3>\n                <div className=\"flex gap-2\">\n                  <button onClick={() => navigate('/contenido?type=tv')} className=\"text-sm text-white/90 bg-white/5 px-3 py-1 rounded\">Ver todas</button>\n                </div>\n              </div>\n              <div className=\"sm:-mx-0 -mx-2\">\n                <Carousel items={tvShows.slice(0, 10).map((item) => (\n                  <ContentCard key={item.id} content={item} onClick={() => handleContentClick(item)} />\n                ))} showArrows={true} autoplay={true} autoplayInterval={4200} showDots={false} />\n              </div>\n            </div>\n          )}\n\n          {/* Novelas */}\n          {novelas.length > 0 && (\n            <div className=\"mb-12\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-2xl sm:text-3xl font-bold text-purple-400\">Novelas</h3>\n                <div className=\"flex gap-2\">\n                  <button onClick={() => navigate('/contenido?type=novela')} className=\"text-sm text-white/90 bg-white/5 px-3 py-1 rounded\">Ver todas</button>\n                </div>\n              </div>\n              <div className=\"sm:-mx-0 -mx-2\">\n                <Carousel items={novelas.slice(0, 10).map((item) => (\n                  <ContentCard key={item.id} content={item} onClick={() => handleContentClick(item)} />\n                ))} showArrows={true} autoplay={true} autoplayInterval={4400} showDots={false} />\n              </div>\n            </div>\n          )}\n\n          {filteredContent.length === 0 && (\n            <div className=\"text-center py-16\">\n              <p className=\"text-gray-400 text-xl\">No se encontró contenido</p>\n            </div>\n          )}\n        </div>\n      </section>\n\n      {/* Authentication and search modals are provided by the shared Header component. */}\n    </div>\n  );\n};\n\nexport default HomePage;","import React from 'react';\r\n\r\nconst TMDB_IMAGE_BASE = \"https://image.tmdb.org/t/p\";\r\n\r\nexport default function ContentCard({ content, onClick }) {\r\n  const posterUrl = content.poster_path ? `${TMDB_IMAGE_BASE}/w500${content.poster_path}` : 'https://via.placeholder.com/500x750?text=No+Image';\r\n  const posterSrcSet = content.poster_path\r\n    ? `${TMDB_IMAGE_BASE}/w300${content.poster_path} 300w, ${TMDB_IMAGE_BASE}/w500${content.poster_path} 500w, ${TMDB_IMAGE_BASE}/w780${content.poster_path} 780w`\r\n    : undefined;\r\n  const posterSizes = \"(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 20vw\";\r\n\r\n  const translateType = (type) => {\r\n    if (!type) return '';\r\n    const t = type.toLowerCase();\r\n    if (t === 'movie' || t === 'pelicula') return 'Película';\r\n    if (t === 'tv' || t === 'serie') return 'Serie';\r\n    if (t === 'novela') return 'Novela';\r\n    return type;\r\n  };\r\n\r\n  return (\r\n    <div onClick={onClick} className=\"glass rounded-xl overflow-hidden cursor-pointer card-hover group h-full flex flex-col\">\r\n      <div className=\"relative aspect-[2/3] overflow-hidden flex-shrink-0\">\r\n        <img\r\n          src={posterUrl}\r\n          srcSet={posterSrcSet}\r\n          sizes={posterSizes}\r\n          loading=\"lazy\"\r\n          decoding=\"async\"\r\n          alt={content.title}\r\n          className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500\" />\r\n        <div className=\"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300\" />\r\n      </div>\r\n      <div className=\"p-3 flex-1 flex flex-col justify-between\">\r\n        <h4 className=\"font-semibold text-white text-[clamp(0.9rem,2.5vw,1rem)] line-clamp-2 mb-2\" style={{minHeight: '2.4rem'}}>{content.title}</h4>\r\n        <div className=\"flex items-center justify-between mt-2\">\r\n          <span className=\"text-xs text-gray-400\">{translateType(content.content_type)}</span>\r\n          {typeof content.vote_average === 'number' && content.vote_average > 0 ? (\r\n            <span className=\"text-xs text-yellow-400 flex items-center\">\r\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 20 20\" fill=\"currentColor\" className=\"inline mr-1 text-yellow-400\">\r\n                <path d=\"M10 15.27L16.18 18l-1.64-7.03L20 7.24l-7.19-.61L10 0 7.19 6.63 0 7.24l5.46 3.73L3.82 18z\" />\r\n              </svg>\r\n              {content.vote_average.toFixed(1)}\r\n            </span>\r\n          ) : null}\r\n        </div>\r\n          {/* Button removed as per patch request */}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["Carousel","_ref","items","autoplay","autoplayInterval","showArrows","showDots","emblaRef","embla","useEmblaCarousel","loop","align","viewportNode","useRef","selectedIndex","setSelectedIndex","useState","autoplayRef","slideWidth","setSlideWidth","scrollTo","useCallback","index","useEffect","onSelect","selectedScrollSnap","on","off","update","w","window","innerWidth","_unused","addEventListener","removeEventListener","play","snaps","scrollSnapList","next","length","current","setInterval","vp","pause","clearInterval","resume","_jsxs","className","children","_jsx","ref","node","map","child","i","style","width","minWidth","_Fragment","onClick","scrollPrev","ArrowLeft","scrollNext","ArrowRight","Array","from","_","idx","concat","HeroCarousel","containScroll","navigate","useNavigate","containerNode","now","Date","filter","Math","abs","item","id","backdrop","backdrop_path","poster_path","bg","title","name","original_title","overview","dateSrc","_date","release_date","first_air_date","parsedDate","isNew","isNaN","shortOverview","str","n","arguments","undefined","slice","truncate","src","alt","loading","decoding","minHeight","Button","API","process","HomePage","user","login","logout","useContext","AuthContext","searchQuery","SearchContext","searchResults","setSearchResults","searchLoading","setSearchLoading","searchError","setSearchError","content","setContent","cached","localStorage","getItem","JSON","parse","filteredContent","setFilteredContent","userHistory","setUserHistory","genres","types","genreCount","_unused2","async","response","axios","get","data","setItem","stringify","error","console","_unused3","fetchContent","cancelled","trim","resp","params","q","e","doSearch","foundGenres","foundTypes","forEach","g","includes","push","content_type","newHistory","Set","_objectSpread","handleContentClick","recommendationSeed","setRecommendationSeed","floor","interval","topGenres","Object","entries","sort","a","b","recommended","array","seed","t","m","random","imul","arr","shuffleArray","some","movies","c","toString","tvShows","novelas","ContentCard","TMDB_IMAGE_BASE","posterUrl","posterSrcSet","srcSet","sizes","type","toLowerCase","translateType","vote_average","height","viewBox","fill","d","toFixed"],"sourceRoot":""}