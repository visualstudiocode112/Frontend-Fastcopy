/*! For license information please see 161.941f1c26.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[161],{1140:(e,a,s)=>{s.d(a,{Wu:()=>w,ZB:()=>f,Zp:()=>u,aR:()=>p});var t=s(2555),r=s(3986),l=s(5043),n=s(9766),i=s(579);const c=["className"],d=["className"],o=["className"],m=["className"],h=["className"],x=["className"],u=l.forwardRef((e,a)=>{let{className:s}=e,l=(0,r.A)(e,c);return(0,i.jsx)("div",(0,t.A)({ref:a,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",s)},l))});u.displayName="Card";const p=l.forwardRef((e,a)=>{let{className:s}=e,l=(0,r.A)(e,d);return(0,i.jsx)("div",(0,t.A)({ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s)},l))});p.displayName="CardHeader";const f=l.forwardRef((e,a)=>{let{className:s}=e,l=(0,r.A)(e,o);return(0,i.jsx)("div",(0,t.A)({ref:a,className:(0,n.cn)("font-semibold leading-none tracking-tight",s)},l))});f.displayName="CardTitle";l.forwardRef((e,a)=>{let{className:s}=e,l=(0,r.A)(e,m);return(0,i.jsx)("div",(0,t.A)({ref:a,className:(0,n.cn)("text-sm text-muted-foreground",s)},l))}).displayName="CardDescription";const w=l.forwardRef((e,a)=>{let{className:s}=e,l=(0,r.A)(e,h);return(0,i.jsx)("div",(0,t.A)({ref:a,className:(0,n.cn)("p-6 pt-0",s)},l))});w.displayName="CardContent";l.forwardRef((e,a)=>{let{className:s}=e,l=(0,r.A)(e,x);return(0,i.jsx)("div",(0,t.A)({ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",s)},l))}).displayName="CardFooter"},4370:(e,a,s)=>{s.d(a,{bq:()=>g,eb:()=>k,gC:()=>A,l6:()=>N,yv:()=>v});var t=s(2555),r=s(3986),l=s(5043),n=s(7982),i=s(6210),c=s(2382),d=s(5711),o=s(9766),m=s(579);const h=["className","children"],x=["className"],u=["className"],p=["className","children","position"],f=["className"],w=["className","children"],j=["className"],N=n.bL,v=(n.YJ,n.WT),g=l.forwardRef((e,a)=>{let{className:s,children:l}=e,i=(0,r.A)(e,h);return(0,m.jsxs)(n.l9,(0,t.A)((0,t.A)({ref:a,className:(0,o.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 text-white",s)},i),{},{children:[l,(0,m.jsx)(n.In,{asChild:!0,children:(0,m.jsx)(c.A,{className:"h-4 w-4 opacity-50"})})]}))});g.displayName=n.l9.displayName;const b=l.forwardRef((e,a)=>{let{className:s}=e,l=(0,r.A)(e,x);return(0,m.jsx)(n.PP,(0,t.A)((0,t.A)({ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s)},l),{},{children:(0,m.jsx)(d.A,{className:"h-4 w-4"})}))});b.displayName=n.PP.displayName;const y=l.forwardRef((e,a)=>{let{className:s}=e,l=(0,r.A)(e,u);return(0,m.jsx)(n.wn,(0,t.A)((0,t.A)({ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s)},l),{},{children:(0,m.jsx)(c.A,{className:"h-4 w-4"})}))});y.displayName=n.wn.displayName;const A=l.forwardRef((e,a)=>{let{className:s,children:l,position:i="popper"}=e,c=(0,r.A)(e,p);return(0,m.jsx)(n.ZL,{children:(0,m.jsxs)(n.UC,(0,t.A)((0,t.A)({ref:a,className:(0,o.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","text-white","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i},c),{},{children:[(0,m.jsx)(b,{}),(0,m.jsx)(n.LM,{className:(0,o.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,m.jsx)(y,{})]}))})});A.displayName=n.UC.displayName;l.forwardRef((e,a)=>{let{className:s}=e,l=(0,r.A)(e,f);return(0,m.jsx)(n.JU,(0,t.A)({ref:a,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",s)},l))}).displayName=n.JU.displayName;const k=l.forwardRef((e,a)=>{let{className:s,children:l}=e,c=(0,r.A)(e,w);return(0,m.jsxs)(n.q7,(0,t.A)((0,t.A)({ref:a,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 text-white",s)},c),{},{children:[(0,m.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,m.jsx)(n.VF,{children:(0,m.jsx)(i.A,{className:"h-4 w-4"})})}),(0,m.jsx)(n.p4,{children:l})]}))});k.displayName=n.q7.displayName;l.forwardRef((e,a)=>{let{className:s}=e,l=(0,r.A)(e,j);return(0,m.jsx)(n.wv,(0,t.A)({ref:a,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",s)},l))}).displayName=n.wv.displayName},4669:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(7784).A)("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},5469:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(7784).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},9161:(e,a,s)=>{s.r(a),s.d(a,{default:()=>b});var t=s(5043),r=s(9722),l=s(4784),n=s(9001),i=s(3877),c=s(2264),d=s(1140),o=s(2224),m=s(4370),h=s(6328),x=s(5469),u=s(7784);const p=(0,u.A)("film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]),f=(0,u.A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var w=s(4669);const j=(0,u.A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var N=s(9855),v=s(579);const g="".concat("http://3.90.248.179:8000","/api"),b=()=>{const{user:e}=(0,t.useContext)(l.cy),a=(0,n.Zp)(),[s,u]=(0,t.useState)([]),[b,y]=(0,t.useState)([]),[A,k]=(0,t.useState)([]),[C,R]=(0,t.useState)(""),[M,_]=(0,t.useState)("movie"),[S,z]=(0,t.useState)([]),[B,E]=(0,t.useState)(!1),[Z,q]=(0,t.useState)(""),[$,P]=(0,t.useState)([]),[U,V]=(0,t.useState)(null),[L,W]=(0,t.useState)([]),[T,F]=(0,t.useState)(!1),[I,D]=(0,t.useState)("movie");(0,t.useEffect)(()=>{e&&"admin"===e.role?(H(),X(),J()):a("/")},[e,a]);const H=async()=>{try{const e=await r.A.get("".concat(g,"/admin/users"));u(e.data)}catch(e){console.error("Error fetching users",e)}},X=async()=>{try{const e=await r.A.get("".concat(g,"/content"));y(e.data)}catch(e){console.error("Error fetching content",e)}},J=async()=>{try{const e=await r.A.get("".concat(g,"/admin/reviews"));k(e.data)}catch(e){console.error("Error fetching reviews",e)}},K=async()=>{if(C.trim()){E(!0);try{const e=await r.A.post("".concat(g,"/content/search"),{query:C,content_type:M});z(e.data.results),0===e.data.results.length&&h.oR.info("No se encontraron resultados")}catch(e){h.oR.error("Error al buscar contenido")}finally{E(!1)}}else h.oR.error("Por favor ingresa un nombre para buscar")};return(0,v.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 px-4 py-8 sm:p-8",children:(0,v.jsxs)("div",{className:"container mx-auto",children:[(0,v.jsxs)("div",{className:"flex flex-row items-center justify-between mb-8 gap-4 transition-all duration-200 ease-in-out flex-wrap",children:[(0,v.jsx)("h1",{className:"hidden sm:block text-3xl sm:text-4xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent truncate max-w-xs",children:"Panel de Administraci\xf3n"}),(0,v.jsxs)(i.$,{"data-testid":"back-to-home-button",onClick:()=>a("/"),variant:"outline",className:"flex items-center justify-center border-white/20 text-white hover:bg-white/10 px-2 py-2 rounded",children:[(0,v.jsx)(x.A,{className:"w-4 h-4 sm:mr-2 mr-0"}),(0,v.jsx)("span",{className:"hidden sm:inline",children:"Volver al Inicio"})]})]}),(0,v.jsxs)(o.tU,{defaultValue:"content",className:"space-y-6",children:[(0,v.jsxs)(o.j7,{className:"bg-white/5 border border-white/10 flex gap-2 overflow-x-auto no-scrollbar py-1 px-1",children:[(0,v.jsxs)(o.Xi,{value:"content","data-testid":"content-tab",className:"flex items-center gap-2 min-w-0",children:[(0,v.jsx)(p,{className:"w-4 h-4"}),(0,v.jsx)("span",{className:"hidden sm:inline truncate",children:"Contenido"})]}),(0,v.jsxs)(o.Xi,{value:"users","data-testid":"users-tab",className:"flex items-center gap-2 min-w-0",children:[(0,v.jsx)(f,{className:"w-4 h-4"}),(0,v.jsx)("span",{className:"hidden sm:inline truncate",children:"Usuarios"})]}),(0,v.jsxs)(o.Xi,{value:"reviews","data-testid":"reviews-tab",className:"flex items-center gap-2 min-w-0",children:[(0,v.jsx)(w.A,{className:"w-4 h-4"}),(0,v.jsx)("span",{className:"hidden sm:inline truncate",children:"Rese\xf1as"})]}),(0,v.jsxs)(o.Xi,{value:"import-folder","data-testid":"import-folder-tab",className:"flex items-center gap-2 min-w-0",children:[(0,v.jsx)(j,{className:"w-4 h-4"}),(0,v.jsx)("span",{className:"hidden sm:inline truncate",children:"Importar Carpeta"})]})]}),(0,v.jsxs)(o.av,{value:"content",children:[(0,v.jsxs)(d.Zp,{className:"bg-slate-800/50 border-white/10 mb-6",children:[(0,v.jsx)(d.aR,{children:(0,v.jsx)(d.ZB,{className:"text-white",children:"Buscar y Agregar Nuevo Contenido"})}),(0,v.jsx)(d.Wu,{children:(0,v.jsxs)("div",{className:"space-y-4",children:[(0,v.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 items-stretch",children:[(0,v.jsx)(c.p,{"data-testid":"content-search-input",type:"text",placeholder:"Buscar",value:C,onChange:e=>R(e.target.value),onKeyPress:e=>"Enter"===e.key&&K(),className:"bg-slate-900/50 border-white/10 text-white flex-1 min-w-0 w-full"}),(0,v.jsxs)(m.l6,{value:M,onValueChange:_,children:[(0,v.jsx)(m.bq,{"data-testid":"content-type-select",className:"w-full sm:w-28 bg-slate-900/50 border-white/10 text-white",children:(0,v.jsx)(m.yv,{})}),(0,v.jsxs)(m.gC,{className:"bg-slate-900 border-white/10",children:[(0,v.jsx)(m.eb,{value:"movie",children:"Pel\xedcula"}),(0,v.jsx)(m.eb,{value:"tv",children:"Serie"}),(0,v.jsx)(m.eb,{value:"novela",children:"Novela"})]})]}),(0,v.jsxs)(i.$,{"data-testid":"search-content-button",onClick:K,disabled:B,className:"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 flex items-center justify-center w-full sm:w-auto",children:[(0,v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-4.35-4.35M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15z"})}),(0,v.jsx)("span",{className:"hidden sm:inline ml-2",children:B?"Buscando...":"Buscar"})]})]}),S.length>0&&(0,v.jsxs)("div",{className:"max-h-96 overflow-y-auto overflow-x-hidden space-y-2",children:[(0,v.jsx)("p",{className:"text-sm text-gray-400 mb-2",children:"Resultados de b\xfasqueda:"}),S.map(e=>{var a;return(0,v.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg border border-white/10",children:[(0,v.jsxs)("div",{className:"flex items-center gap-3 min-w-0",children:[e.poster_path&&(0,v.jsx)("img",{src:"https://image.tmdb.org/t/p/w92".concat(e.poster_path),alt:e.title||e.name,className:"w-12 h-16 object-cover rounded"}),(0,v.jsxs)("div",{className:"min-w-0",children:[(0,v.jsx)("p",{className:"font-semibold text-white truncate",children:e.title||e.name}),(0,v.jsxs)("p",{className:"text-sm text-gray-400 truncate",children:[e.release_date||e.first_air_date," - \u2b50 ",null===(a=e.vote_average)||void 0===a?void 0:a.toFixed(1)]})]})]}),(0,v.jsxs)(i.$,{"data-testid":"add-result-".concat(e.id),onClick:()=>(async e=>{try{await r.A.post("".concat(g,"/content"),{tmdb_id:e,content_type:M}),h.oR.success("Contenido agregado exitosamente"),R(""),z([]),X()}catch(t){var a,s;h.oR.error((null===(a=t.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.detail)||"Error al agregar contenido")}})(e.id),size:"sm",className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600",children:[(0,v.jsx)(j,{className:"w-4 h-4"}),(0,v.jsx)("span",{className:"hidden sm:inline ml-2",children:"Agregar"})]})]},e.id)})]})]})})]}),(0,v.jsxs)(d.Zp,{className:"bg-slate-800/50 border-white/10",children:[(0,v.jsx)(d.aR,{children:(0,v.jsxs)(d.ZB,{className:"text-white",children:["Contenido Existente (",b.length,")"]})}),(0,v.jsx)(d.Wu,{children:(0,v.jsxs)("div",{className:"space-y-3",children:[(0,v.jsx)("div",{className:"mb-3",children:(0,v.jsx)(c.p,{"data-testid":"existing-content-filter",type:"text",placeholder:"Buscar en contenido existente",value:Z,onChange:e=>q(e.target.value),className:"bg-slate-900/50 border-white/10 text-white w-full sm:w-80 min-w-0"})}),b.filter(e=>!!e.title&&e.title.toLowerCase().includes(Z.toLowerCase())).map(e=>(0,v.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg border border-white/10 min-w-0",children:[(0,v.jsxs)("div",{className:"min-w-0",children:[(0,v.jsx)("p",{className:"font-semibold text-white truncate",children:e.title}),(0,v.jsxs)("p",{className:"text-sm text-gray-400 truncate",children:[e.content_type," - TMDB ID: ",e.tmdb_id]})]}),(0,v.jsx)(i.$,{"data-testid":"delete-content-".concat(e.id),onClick:()=>(async e=>{try{await r.A.delete("".concat(g,"/content/").concat(e)),h.oR.success("Contenido eliminado"),X()}catch(a){h.oR.error("Error al eliminar contenido")}})(e.id),variant:"ghost",size:"sm",className:"text-red-400 hover:text-red-300 hover:bg-red-500/10",children:(0,v.jsx)(N.A,{className:"w-4 h-4"})})]},e.id))]})})]})]}),(0,v.jsx)(o.av,{value:"users",children:(0,v.jsxs)(d.Zp,{className:"bg-slate-800/50 border-white/10",children:[(0,v.jsx)(d.aR,{children:(0,v.jsxs)(d.ZB,{className:"text-white",children:["Usuarios (",s.length,")"]})}),(0,v.jsx)(d.Wu,{children:(0,v.jsx)("div",{className:"space-y-3",children:s.map(e=>(0,v.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg border border-white/10 min-w-0",children:[(0,v.jsxs)("div",{className:"min-w-0",children:[(0,v.jsx)("p",{className:"font-semibold text-white truncate",children:e.email}),(0,v.jsxs)("p",{className:"text-sm text-gray-400 truncate",children:["Rol: ",e.role]})]}),(0,v.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,v.jsxs)(m.l6,{value:e.role,onValueChange:a=>(async(e,a)=>{try{await r.A.patch("".concat(g,"/admin/users/").concat(e,"/role?role=").concat(a)),h.oR.success("Rol actualizado"),H()}catch(s){h.oR.error("Error al actualizar rol")}})(e.id,a),children:[(0,v.jsx)(m.bq,{"data-testid":"user-role-select-".concat(e.id),className:"w-24 sm:w-32 bg-slate-900/50 border-white/10 text-white",children:(0,v.jsx)(m.yv,{})}),(0,v.jsxs)(m.gC,{className:"bg-slate-900 border-white/10",children:[(0,v.jsx)(m.eb,{value:"user",children:"Usuario"}),(0,v.jsx)(m.eb,{value:"admin",children:"Admin"})]})]}),(0,v.jsx)(i.$,{"data-testid":"delete-user-".concat(e.id),onClick:()=>(async e=>{try{await r.A.delete("".concat(g,"/admin/users/").concat(e)),h.oR.success("Usuario eliminado"),H()}catch(a){h.oR.error("Error al eliminar usuario")}})(e.id),variant:"ghost",size:"sm",className:"text-red-400 hover:text-red-300 hover:bg-red-500/10",children:(0,v.jsx)(N.A,{className:"w-4 h-4"})})]})]},e.id))})})]})}),(0,v.jsx)(o.av,{value:"reviews",children:(0,v.jsxs)(d.Zp,{className:"bg-slate-800/50 border-white/10",children:[(0,v.jsx)(d.aR,{children:(0,v.jsxs)(d.ZB,{className:"text-white",children:["Rese\xf1as (",A.length,")"]})}),(0,v.jsx)(d.Wu,{children:(0,v.jsx)("div",{className:"space-y-3",children:A.map(e=>(0,v.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-start justify-between p-4 bg-white/5 rounded-lg border border-white/10 min-w-0",children:[(0,v.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,v.jsx)("p",{className:"hidden sm:block font-semibold text-white truncate",children:e.user_email}),(0,v.jsxs)("p",{className:"text-sm text-yellow-400 mb-2",children:["\u2b50 ",e.rating,"/5"]}),(0,v.jsx)("p",{className:"text-gray-300 truncate",children:e.review_text})]}),(0,v.jsx)("div",{className:"mt-3 sm:mt-0",children:(0,v.jsx)(i.$,{"data-testid":"admin-delete-review-".concat(e.id),onClick:()=>(async e=>{try{await r.A.delete("".concat(g,"/reviews/").concat(e)),h.oR.success("Rese\xf1a eliminada"),J()}catch(a){h.oR.error("Error al eliminar rese\xf1a")}})(e.id),variant:"ghost",size:"sm",className:"text-red-400 hover:text-red-300 hover:bg-red-500/10",children:(0,v.jsx)(N.A,{className:"w-4 h-4"})})})]},e.id))})})]})}),(0,v.jsx)(o.av,{value:"import-folder",children:(0,v.jsxs)(d.Zp,{className:"bg-slate-800/50 border-white/10 mb-6",children:[(0,v.jsx)(d.aR,{children:(0,v.jsx)(d.ZB,{className:"text-white",children:"Importar desde carpeta"})}),(0,v.jsx)(d.Wu,{children:(0,v.jsxs)("div",{className:"space-y-4",children:[(0,v.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 items-center mb-4",children:[(0,v.jsx)("label",{htmlFor:"folder-upload",className:"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-4 py-2 rounded cursor-pointer font-semibold shadow",children:"Seleccionar carpeta"}),(0,v.jsx)("input",{id:"folder-upload",type:"file",webkitdirectory:"true",multiple:!0,onChange:e=>{const a=Array.from(e.target.files||[]),s=Array.from(new Set(a.map(e=>e.webkitRelativePath.split("/")[1]||e.name))),t=Array.from(new Set(s.map(e=>{let a=e.replace(/\(.*?\).*/,"");return a=a.replace(/T\d+.*$/i,""),a=a.replace(/\[.*?\].*/,""),a=a.replace(/-.*/,""),a=a.replace(/\[/g,""),a.trim()})));P(t.map(e=>({name:e})))},className:"hidden"}),(0,v.jsx)("span",{className:"text-white text-sm mt-2 sm:mt-0",children:$.length>0?"".concat($.length," carpeta(s) seleccionada(s)"):"Ninguna carpeta seleccionada"})]}),(0,v.jsx)("div",{className:"flex flex-col sm:flex-row gap-2 items-stretch mb-2",children:(0,v.jsxs)(m.l6,{value:I,onValueChange:D,children:[(0,v.jsx)(m.bq,{className:"w-full sm:w-40 bg-slate-900/50 border-white/10 text-white",children:(0,v.jsx)(m.yv,{placeholder:"Tipo de contenido"})}),(0,v.jsxs)(m.gC,{className:"bg-slate-900 border-white/10",children:[(0,v.jsx)(m.eb,{value:"movie",children:"Pel\xedcula"}),(0,v.jsx)(m.eb,{value:"tv",children:"Serie"}),(0,v.jsx)(m.eb,{value:"novela",children:"Novela"})]})]})}),$.length>0&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"mb-2",children:(0,v.jsx)(i.$,{variant:"outline",className:"text-white border-white/20 hover:bg-white/10",onClick:()=>P([]),children:"Limpiar lista"})}),(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)("p",{className:"text-gray-300 text-sm mb-2",children:"Carpetas encontradas:"}),$.map((e,a)=>(0,v.jsxs)("div",{className:"flex items-center gap-2 bg-slate-900/30 rounded p-2",children:[(0,v.jsx)("span",{className:"text-white flex-1 truncate",children:e.name}),(0,v.jsx)(i.$,{size:"sm",className:"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600",onClick:()=>(async e=>{F(!0),V(e);try{const a=await r.A.post("".concat(g,"/content/search"),{query:e,content_type:I});W(a.data.results)}catch(a){h.oR.error("Error al buscar en TMDB"),W([])}finally{F(!1)}})(e.name),children:"Buscar en TMDB"})]},a))]})]}),U&&(0,v.jsxs)("div",{className:"mt-4",children:[(0,v.jsxs)("p",{className:"text-white font-semibold mb-2",children:["Resultados para: ",U]}),T?(0,v.jsx)("p",{className:"text-gray-300",children:"Buscando..."}):(0,v.jsxs)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[0===L.length&&(0,v.jsx)("p",{className:"text-gray-400",children:"No se encontraron resultados."}),L.map(e=>{var a;return(0,v.jsxs)("div",{className:"flex items-center justify-between p-2 bg-white/10 rounded",children:[(0,v.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[e.poster_path&&(0,v.jsx)("img",{src:"https://image.tmdb.org/t/p/w92".concat(e.poster_path),alt:e.title||e.name,className:"w-10 h-14 object-cover rounded"}),(0,v.jsxs)("div",{className:"min-w-0",children:[(0,v.jsx)("p",{className:"font-semibold text-white truncate",children:e.title||e.name}),(0,v.jsxs)("p",{className:"text-xs text-gray-400 truncate",children:[e.release_date||e.first_air_date," - \u2b50 ",null===(a=e.vote_average)||void 0===a?void 0:a.toFixed(1)]})]})]}),(0,v.jsx)(i.$,{size:"sm",className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600",onClick:()=>(async e=>{try{await r.A.post("".concat(g,"/content"),{tmdb_id:e,content_type:I}),h.oR.success("Contenido importado exitosamente"),V(null),W([]),X()}catch(t){var a,s;h.oR.error((null===(a=t.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.detail)||"Error al importar contenido")}})(e.id),children:"Importar"})]},e.id)})]}),(0,v.jsx)(i.$,{variant:"ghost",size:"sm",className:"mt-2 text-red-400 hover:text-red-300 hover:bg-red-500/10",onClick:()=>{V(null),W([])},children:"Cancelar"})]})]})})]})})]})]})})}},9855:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(7784).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}}]);
//# sourceMappingURL=161.941f1c26.chunk.js.map